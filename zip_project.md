# zip_project.py — упаковка проекта в ZIP по правилам `.gitignore`

Скрипт архивирует файлы текущего git‑проекта в ZIP **с учётом `.gitignore`** и складывает архивы в папку **`archives/`** в корне репозитория.  
Дополнительно создаётся «двойник» ZIP с таким же содержимым, но с именем **`_project.tsv`** (это **тот же** архив, только с другим расширением).

## Что делает

- Находит корень репозитория (`git rev-parse --show-toplevel`).
- Получает список файлов, **не игнорируемых** `.gitignore`, включая отслеживаемые и неотслеживаемые (`git ls-files --cached --others --exclude-standard -z`).
- Исключает любые пути внутри `.git/`.
- Создаёт ZIP: `archives/<ИмяПапки>-YYYYMMDD-HHMM.zip`.
- Создаёт рядом «двойника»: `archives/<ИмяПапки>-YYYYMMDD-HHMM.tsv` (байт-в-байт копия ZIP).
- Поддерживает переопределение имени файла и каталога вывода, а также опцию открытия папки по завершении.

> ⚠️ Файл с расширением `.tsv` не является «настоящим» tsv‑документом, это копия ZIP с иным расширением.

## Требования

- **Windows / macOS / Linux**
- Установленный **Git** в `PATH`
- **Python 3.8+**
- Запускать **внутри git‑репозитория**

## Параметры

- `--name` — имя ZIP‑файла (по умолчанию `ИмяПапки-YYYYMMDD-HHMM.zip`).
- `--dir` — папка вывода относительно корня репозитория (по умолчанию `archives`).
- `--open` — открыть папку с архивом после завершения (на Windows).

## Примеры запуска (Windows PowerShell)

```powershell
# Обычная упаковка (создаст ZIP и его tsv-копию в .\archives)
python .\zip_project.py

# Своё имя файла
python .\zip_project.py --name release.zip

# Другая папка вывода
python .\zip_project.py --dir build\artifacts

# Открыть Проводник с папкой после упаковки
python .\zip_project.py --open